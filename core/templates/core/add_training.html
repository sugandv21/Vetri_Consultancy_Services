{% extends "accounts/base.html" %}
{% block content %}

<div class="container py-4">

  <div class="row justify-content-center">
    <div class="col-lg-8">

      <div class="card shadow-lg border-0">
        <div class="card-body p-4">

          <h3 class="mb-4 text-center fw-semibold">
            Create Training Program
          </h3>

          <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <!-- BASIC INFO -->
            <h6 class="text-muted mb-3">Basic Information</h6>

            <input name="title"
                   class="form-control mb-3"
                   placeholder="Training Title (eg: Python Full Stack Developer)"
                   required>

            <textarea name="description"
                      class="form-control mb-4"
                      placeholder="Explain what student will learn..."
                      rows="4"
                      required></textarea>


            <!-- COURSE DETAILS -->
            <h6 class="text-muted mb-3">Course Details</h6>

            <div class="row g-3">

              <div class="col-md-6">
                <label class="form-label small text-muted">Duration</label>
                <select name="duration" class="form-select">
                  <option value="">Select duration</option>
                  <option>2 Weeks</option>
                  <option>4 Weeks</option>
                  <option>6 Weeks</option>
                  <option>2 Months</option>
                  <option>3 Months</option>
                  <option>6 Months</option>
                </select>
              </div>

              <div class="col-md-6">
                <label class="form-label small text-muted">Course Fee</label>
                <div class="input-group">
                  <span class="input-group-text">â‚¹</span>
                  <input name="fee" type="number" class="form-control" placeholder="15000">
                </div>
              </div>

            </div>


            <!-- SETTINGS -->
            <h6 class="text-muted mt-4 mb-3">Settings</h6>

            <div class="form-check form-switch mb-2">
              <input class="form-check-input" type="checkbox" name="is_active" checked>
              <label class="form-check-label">Make this training visible to students</label>
            </div>

            <div class="form-check form-switch mb-4">
              <input class="form-check-input" type="checkbox" name="placement_support">
              <label class="form-check-label">Placement Support Included</label>
            </div>


            <!-- IMAGE UPLOAD -->
            <h6 class="text-muted mb-2">Thumbnail</h6>

            <input type="file" name="image" class="form-control mb-3" accept="image/*" onchange="previewImage(event)">

            <div class="text-center mb-4">
              <img id="preview" src="" class="img-fluid rounded shadow-sm d-none" style="max-height:200px;">
            </div>


            <!-- ACTION BUTTONS -->
            <div class="d-flex justify-content-between mt-3">

              <a href="{% url 'admin_training_list' %}"
                 class="btn btn-outline-secondary">
                Back
              </a>

              <button class="btn btn-primary px-4">
                Create Training
              </button>

            </div>

          </form>

        </div>
      </div>

    </div>
  </div>

</div>

<script>
function previewImage(event){
  const preview = document.getElementById('preview');
  preview.src = URL.createObjectURL(event.target.files[0]);
  preview.classList.remove('d-none');
}
</script>

{% endblock %}
